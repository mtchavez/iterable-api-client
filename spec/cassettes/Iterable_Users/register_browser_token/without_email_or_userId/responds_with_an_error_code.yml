---
http_interactions:
- request:
    method: post
    uri: https://api.iterable.com/api/users/getFields?api_key=<ITERABLE_TOKEN>
    body:
      encoding: UTF-8
      string: '{"email":"","browserToken":"12345678910"}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      User-Agent:
      - Ruby
      Host:
      - api.iterable.com
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Date:
      - Fri, 06 Oct 2017 22:22:27 GMT
      Content-Type:
      - text/html; charset=utf-8
      Content-Length:
      - '3065'
      Connection:
      - keep-alive
      Vary:
      - Accept-Encoding
      Request-Time:
      - '1'
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Credentials:
      - 'true'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        PCFkb2N0eXBlIGh0bWw+PGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD0idXRmLTgiPjxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9ZWRnZSxjaHJvbWU9MSI+PHRpdGxlPkFjdGlvbiBub3QgZm91bmQ8L3RpdGxlPjxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSIiPjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyI+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvL2Fzc2V0cy5pdGVyYWJsZS5jb20vODk4ZGNjMC9pdGVyYWJsZS1zMy92ZW5kb3IuZ3ouY3NzIi8+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBtZWRpYT0ic2NyZWVuIiBocmVmPSIvL2Fzc2V0cy5pdGVyYWJsZS5jb20vODk4ZGNjMC9pdGVyYWJsZS1zMy9pdGVyYWJsZS5nei5jc3MiPjxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgdHlwZT0iaW1hZ2UvaWNvIiBocmVmPSIvL2Fzc2V0cy5pdGVyYWJsZS5jb20vYXNzZXRzL2ltYWdlcy9mYXZpY29ucy9mYXZpY29uLmljbyIvPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzQuNy4wL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvanF1ZXJ5LmZhbmN5dHJlZS8yLjIyLjUvc2tpbi1saW9uL3VpLmZhbmN5dHJlZS5taW4uY3NzIi8+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvL2Fzc2V0cy5pdGVyYWJsZS5jb20vYXNzZXRzL2xpYi9waXhlZGVuLXN0cm9rZS03LWljb24vcGUtaWNvbi03LXN0cm9rZS9kaXN0L3BlLWljb24tNy1zdHJva2UubWluLmNzcyIvPjxsaW5rIGhyZWY9Jy8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1JbmNvbnNvbGF0YScgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2Nzcyc+PC9oZWFkPjxib2R5IG5nLWNvbnRyb2xsZXI9IkJhc2VDdHJsIiBuZy1jbG9haz48dG9hc3Rlci1jb250YWluZXIgdG9hc3Rlci1vcHRpb25zPSJ7J3RpbWUtb3V0Jzo1MDAwLCdwb3NpdGlvbi1jbGFzcyc6ICd0b2FzdC10b3AtZnVsbC13aWR0aCcsICdjbG9zZS1idXR0b24nOiB0cnVlLCAnYm9keS1vdXRwdXQtdHlwZSc6ICd0cnVzdGVkSHRtbCd9IiBzdHlsZT0id2lkdGg6NzUlO2xlZnQ6MTIlIj48L3RvYXN0ZXItY29udGFpbmVyPjxkaXYgY2xhc3M9ImVycm9yLWNvbnRlbnQiPjxoMj48aW1nIHNyYz0iLy9hc3NldHMuaXRlcmFibGUuY29tL2Fzc2V0cy9pbWFnZXMvZGVhZC5zdmciIGFsdD0iQnJva2VuIi8+IE9oIG5vLSB0aGF0IHVybCBkb2Vzbid0IGV4aXN0LjwvaDI+PGg0Pmh0dHBzOi8vYXBwLml0ZXJhYmxlLmNvbS9hcGkvdXNlcnMvZ2V0RmllbGRzPC9oND48cD5Eb3VibGUgY2hlY2sgdGhhdCB0aGUgdXJsIGlzIGNvcnJlY3QgYW5kIHRyeSBhZ2Fpbi4gSWYgdGhpcyBrZWVwcyBoYXBwZW5pbmcsIG5vdGlmeSB5b3VyIGFjY291bnQgbWFuYWdlci48L3A+PC9kaXY+PHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JhdmVuLmpzLzMuMTEuMC9yYXZlbi5taW4uanMiPjwvc2NyaXB0PjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9yYXZlbi5qcy8zLjExLjAvcGx1Z2lucy9hbmd1bGFyLm1pbi5qcyI+PC9zY3JpcHQ+PHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JhdmVuLmpzLzMuMTEuMC9wbHVnaW5zL2NvbnNvbGUuanMiPjwvc2NyaXB0PjxzY3JpcHQ+CiAgICAgICAgICAgICAgICBSYXZlbi5jb25maWcoJ2h0dHBzOi8vOTdhNmMzYTU5YzBkNGU3YzgyZDQxNTc2MWQ1MTgwZDFAc2VudHJ5LmlvLzE0Nzk2OCcsIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgbGlzdCBiYXNlZCBvZmY6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE4NzgyODMKICAgICAgICAgICAgICAgICAgICAvLyBXaWxsIGNhdXNlIGEgZGVwcmVjYXRpb24gd2FybmluZywgYnV0IHRoZSBkZW1pc2Ugb2YgYGlnbm9yZUVycm9yc2AgaXMgc3RpbGwgdW5kZXIgZGlzY3Vzc2lvbi4KICAgICAgICAgICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvaXNzdWVzLzczCiAgICAgICAgICAgICAgICAgICAgaWdub3JlRXJyb3JzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhbmRvbSBwbHVnaW5zL2V4dGVuc2lvbnMKICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcC5HTE9CQUxTJywKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vYmxvZy5lcnJvcmNlcHRpb24uY29tLzIwMTIvMDMvdGFsZS1vZi11bmZpbmRhYmxlLWpzLWVycm9yLmh0bWwKICAgICAgICAgICAgICAgICAgICAgICAgJ29yaWdpbmFsQ3JlYXRlTm90aWZpY2F0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbnZhcy5jb250ZW50RG9jdW1lbnQnLAogICAgICAgICAgICAgICAgICAgICAgICAnTXlBcHBfUmVtb3ZlQWxsSGlnaGxpZ2h0cycsCiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwOi8vdHQuZXBpY3BsYXkuY29tJywKICAgICAgICAgICAgICAgICAgICAgICAgJ0NhblwndCBmaW5kIHZhcmlhYmxlOiBaaXRlUmVhZGVyJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2ppZ3NhdyBpcyBub3QgZGVmaW5lZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdDb21ib1NlYXJjaCBpcyBub3QgZGVmaW5lZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9hZGluZy5yZXRyeS53aWRkaXQuY29tLycsCiAgICAgICAgICAgICAgICAgICAgICAgICdhdG9taWNGaW5kQ2xvc2UnLAogICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWNlYm9vayBib3JrZWQKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZiX3hkX2ZyYWdtZW50JywKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSVNQICJvcHRpbWl6aW5nIiBwcm94eSAtIGBDYWNoZS1Db250cm9sOiBuby10cmFuc2Zvcm1gIHNlZW1zIHRvIHJlZHVjZSB0aGlzLiAodGhhbmtzIEBhY2RoYSkKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDExMzI2OC9ob3ctdG8tc3RvcC1qYXZhc2NyaXB0LWluamVjdGlvbi1mcm9tLXZvZGFmb25lLXByb3h5CiAgICAgICAgICAgICAgICAgICAgICAgICdibWlfU2FmZUFkZE9ubG9hZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdFQkNhbGxCYWNrTWVzc2FnZVJlY2VpdmVkJywKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly90b29sYmFyLmNvbmR1aXQuY29tL0RldmVsb3Blci9IdG1sQW5kR2FkZ2V0L01ldGhvZHMvSlNJbmplY3Rpb24uYXNweAogICAgICAgICAgICAgICAgICAgICAgICAnY29uZHVpdFBhZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmljIGVycm9yIGNvZGUgZnJvbSBlcnJvcnMgb3V0c2lkZSB0aGUgc2VjdXJpdHkgc2FuZGJveAogICAgICAgICAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIGRlbGV0ZSB0aGlzIGlmIHVzaW5nIHJhdmVuLmpzID4gMS4wLCB3aGljaCBpZ25vcmVzIHRoZXNlIGF1dG9tYXRpY2FsbHkuCiAgICAgICAgICAgICAgICAgICAgICAgICdTY3JpcHQgZXJyb3IuJwogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgaWdub3JlVXJsczogWwogICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWNlYm9vayBmbGFraW5lc3MKICAgICAgICAgICAgICAgICAgICAgICAgL2dyYXBoXC5mYWNlYm9va1wuY29tL2ksCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhY2Vib29rIGJsb2NrZWQKICAgICAgICAgICAgICAgICAgICAgICAgL2Nvbm5lY3RcLmZhY2Vib29rXC5uZXRcL2VuX1VTXC9hbGxcLmpzL2ksCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdvb3ByYSBmbGFraW5lc3MKICAgICAgICAgICAgICAgICAgICAgICAgL2VhdGRpZmZlcmVudFwuY29tXC53b29wcmEtbnNcLmNvbS9pLAogICAgICAgICAgICAgICAgICAgICAgICAvc3RhdGljXC53b29wcmFcLmNvbVwvanNcL3dvb3ByYVwuanMvaSwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21lIGV4dGVuc2lvbnMKICAgICAgICAgICAgICAgICAgICAgICAgL2V4dGVuc2lvbnNcLy9pLAogICAgICAgICAgICAgICAgICAgICAgICAvXmNocm9tZTpcL1wvL2ksCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIHBsdWdpbnMKICAgICAgICAgICAgICAgICAgICAgICAgLzEyN1wuMFwuMFwuMTo0MDAxXC9pc3J1bm5pbmcvaSwgIC8vIENhY2Fvd2ViCiAgICAgICAgICAgICAgICAgICAgICAgIC93ZWJhcHBzdG9vbGJhcmJhXC50ZXh0aGVscFwuY29tXC8vaSwKICAgICAgICAgICAgICAgICAgICAgICAgL21ldHJpY3NcLml0dW5lc1wuYXBwbGVcLmNvbVwuZWRnZXN1aXRlXC5uZXRcLy9pCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KS5hZGRQbHVnaW4oCiAgICAgICAgICAgICAgUmF2ZW4uUGx1Z2lucy5Bbmd1bGFyCiAgICAgICAgICAgICkuaW5zdGFsbCgpOwogICAgICAgICAgICA8L3NjcmlwdD48c2NyaXB0IGRhdGEtbWFpbj0iLy9hc3NldHMuaXRlcmFibGUuY29tLzg5OGRjYzAvaXRlcmFibGUtczMvbWFpbi5neiIgc3JjPSIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9yZXF1aXJlLmpzLzIuMS4yMS9yZXF1aXJlLm1pbi5qcyI+PC9zY3JpcHQ+PHNjcmlwdCBzcmM9Jy9yb3V0ZXMuanMnPjwvc2NyaXB0PjxzY3JpcHQgc3JjPSJodHRwczovL2pzLnN0cmlwZS5jb20vdjIvIj48L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAgICAgICAgICAgICAhZnVuY3Rpb24oKXt2YXIgYW5hbHl0aWNzPXdpbmRvdy5hbmFseXRpY3M9d2luZG93LmFuYWx5dGljc3x8W107aWYoIWFuYWx5dGljcy5pbml0aWFsaXplKWlmKGFuYWx5dGljcy5pbnZva2VkKXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKCJTZWdtZW50IHNuaXBwZXQgaW5jbHVkZWQgdHdpY2UuIik7ZWxzZXthbmFseXRpY3MuaW52b2tlZD0hMDthbmFseXRpY3MubWV0aG9kcz1bInRyYWNrU3VibWl0IiwidHJhY2tDbGljayIsInRyYWNrTGluayIsInRyYWNrRm9ybSIsInBhZ2V2aWV3IiwiaWRlbnRpZnkiLCJyZXNldCIsImdyb3VwIiwidHJhY2siLCJyZWFkeSIsImFsaWFzIiwiZGVidWciLCJwYWdlIiwib25jZSIsIm9mZiIsIm9uIl07YW5hbHl0aWNzLmZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlLnVuc2hpZnQodCk7YW5hbHl0aWNzLnB1c2goZSk7cmV0dXJuIGFuYWx5dGljc319O2Zvcih2YXIgdD0wO3Q8YW5hbHl0aWNzLm1ldGhvZHMubGVuZ3RoO3QrKyl7dmFyIGU9YW5hbHl0aWNzLm1ldGhvZHNbdF07YW5hbHl0aWNzW2VdPWFuYWx5dGljcy5mYWN0b3J5KGUpfWFuYWx5dGljcy5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2UudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtlLmFzeW5jPSEwO2Uuc3JjPSgiaHR0cHM6Ij09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sPyJodHRwczovLyI6Imh0dHA6Ly8iKSsiY2RuLnNlZ21lbnQuY29tL2FuYWx5dGljcy5qcy92MS8iK3QrIi9hbmFseXRpY3MubWluLmpzIjt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLG4pfTthbmFseXRpY3MuU05JUFBFVF9WRVJTSU9OPSI0LjAuMCI7CiAgICAgICAgICAgICAgICAgICAgYW5hbHl0aWNzLmxvYWQoIm1ZbjlOamxBek8wNkpmMWtIWkE0VDVtbGtnRkVmVUR0Iik7CiAgICAgICAgICAgICAgICAgICAgYW5hbHl0aWNzLnBhZ2UoKTsKICAgICAgICAgICAgICAgIH19KCk7CiAgICAgICAgICAgIDwvc2NyaXB0PjxzY3JpcHQ+CihmdW5jdGlvbihkKSB7CnZhciBjb25maWcgPSB7CmtpdElkOiAnYWRxOHptcycsCnNjcmlwdFRpbWVvdXQ6IDMwMDAKfSwKaD1kLmRvY3VtZW50RWxlbWVudCx0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmNsYXNzTmFtZT1oLmNsYXNzTmFtZS5yZXBsYWNlKC9cYndmLWxvYWRpbmdcYi9nLCIiKSsiIHdmLWluYWN0aXZlIjt9LGNvbmZpZy5zY3JpcHRUaW1lb3V0KSx0az1kLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGY9ZmFsc2Uscz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXSxhO2guY2xhc3NOYW1lKz0iIHdmLWxvYWRpbmciO3RrLnNyYz0nLy91c2UudHlwZWtpdC5uZXQvJytjb25maWcua2l0SWQrJy5qcyc7dGsuYXN5bmM9dHJ1ZTt0ay5vbmxvYWQ9dGsub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7YT10aGlzLnJlYWR5U3RhdGU7aWYoZnx8YSYmYSE9ImNvbXBsZXRlIiYmYSE9ImxvYWRlZCIpcmV0dXJuO2Y9dHJ1ZTtjbGVhclRpbWVvdXQodCk7dHJ5e1R5cGVraXQubG9hZChjb25maWcpfWNhdGNoKGUpe319O3MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGsscykKfSkoZG9jdW1lbnQpOwo8L3NjcmlwdD48c2NyaXB0PgooZnVuY3Rpb24oaSxzLG8sZyxyLGEsbSl7aVsnR29vZ2xlQW5hbHl0aWNzT2JqZWN0J109cjtpW3JdPWlbcl18fGZ1bmN0aW9uKCl7CihpW3JdLnE9aVtyXS5xfHxbXSkucHVzaChhcmd1bWVudHMpfSxpW3JdLmw9MSpuZXcgRGF0ZSgpO2E9cy5jcmVhdGVFbGVtZW50KG8pLAptPXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobylbMF07YS5hc3luYz0xO2Euc3JjPWc7bS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLG0pCn0pKHdpbmRvdyxkb2N1bWVudCwnc2NyaXB0JywnLy93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vYW5hbHl0aWNzLmpzJywnZ2EnKTsKZ2EoJ2NyZWF0ZScsICdVQS00MTExMjQwMi0xJywgJ2l0ZXJhYmxlLmNvbScpOwpnYSgnc2VuZCcsICdwYWdldmlldycpOwo8L3NjcmlwdD48c2NyaXB0PgogICAgICAgIGNvbnNvbGUubG9nKCclY+KZpSBjb2RlPyAtPiBpdGVyYWJsZUpvYnMoKScsICdiYWNrZ3JvdW5kOiMzMzM7Y29sb3I6I2ZmZjtmb250LWZhbWlseTpNZW5sbyxNb25hY28sbW9ub3NwYWNlO2ZvbnQtc2l6ZToxNnB4O2JvcmRlci1yYWRpdXM6MnB4O3BhZGRpbmc6NXB4IDEwcHg7Jyk7CiAgICAgICAgd2luZG93Lml0ZXJhYmxlSm9icyA9IGZ1bmN0aW9uKCkgeyB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL2l0ZXJhYmxlLmNvbS9jYXJlZXJzJzsgfQogICAgPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4=
    http_version: 
  recorded_at: Fri, 06 Oct 2017 22:22:27 GMT
- request:
    method: post
    uri: https://api.iterable.com/api/users/registerBrowserToken?api_key=<ITERABLE_TOKEN>
    body:
      encoding: UTF-8
      string: '{"email":"","browserToken":"12345678910"}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      User-Agent:
      - Ruby
      Host:
      - api.iterable.com
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Date:
      - Fri, 06 Oct 2017 22:26:52 GMT
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '81'
      Connection:
      - keep-alive
      Vary:
      - Accept-Encoding
      Request-Time:
      - '4'
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Credentials:
      - 'true'
    body:
      encoding: ASCII-8BIT
      string: '{"msg":"Invalid email: ","code":"InvalidEmailAddressError","params":null}'
    http_version: 
  recorded_at: Fri, 06 Oct 2017 22:26:52 GMT
recorded_with: VCR 3.0.3
